include::{partialsdir}/attributes.adoc[]

= Authentication for {sync-service} service

== Using the {sync-service} SDK with {keycloak-service} SDK

When user login in with {keycloak-service} SDK, user principal can be used to retrieve token. {sync-service} SDK can use this token to preform requests to the {sync-service} backend.

[role="primary"]
.Android
****
```
MobileCore.getInstance().getHttpLayer().requestHeaderInterceptor().add(authService.getAuthHeaderProvider());
```
****

[role="secondary"]
.iOS
****
```
if let transport = AgsSync.instance.transport {
  transport.headerProvider = AgsAuth.instance.getAuthHeaderProvider()
}
```
****
